!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Convo=e()}}((function(){return function e(t,n,i){function r(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){return r(t[s][1][e]||e)}),d,d.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){t.exports=function(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,o=[],s=[],u={},a=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var c in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),u[t]=u[t]?u[t]+","+n:n})),n(a())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(c,t.headers[c]);r.send(t.body||null)}))}},{}],2:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function u(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("unfetch"));n.default=class{constructor(e,t){return this.validate=(e,t)=>i(this,void 0,void 0,(function*(){try{let n=yield(0,o.default)(`${this.base}/validateAuth?apikey=${this.apikey}`,{method:"POST",body:JSON.stringify({signerAddress:e,token:t}),headers:{"Content-Type":"application/json"}});return n=yield n.json(),n}catch(e){return console.error(e),{error:e}}})),this.authenticate=(e,t,n,r,s)=>i(this,void 0,void 0,(function*(){try{if("ethereum"===r){let i=yield(0,o.default)(`${this.base}/auth?apikey=${this.apikey}`,{method:"POST",body:JSON.stringify({signerAddress:e,signature:t,timestamp:n,chain:r}),headers:{"Content-Type":"application/json"}});return i=yield i.json(),i}if("near"===r){let i=yield(0,o.default)(`${this.base}/auth?apikey=${this.apikey}`,{method:"POST",body:JSON.stringify({signerAddress:e,signature:t,accountId:s,timestamp:n,chain:r}),headers:{"Content-Type":"application/json"}});return i=yield i.json(),i}{const e="Invalid Chain Name";return console.error(e),{error:e}}}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this.base=t,this}getSignatureData(e,t){return`I allow this site to access my data on The Convo Space using the account ${e}. Timestamp:${t}`}}},{unfetch:1}],3:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function u(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("unfetch"));n.default=class{constructor(e){return this.base="https://theconvo.space/api",this.logConfig=()=>i(this,void 0,void 0,(function*(){const e=yield this.ping();return{base:this.base,apikey:this.apikey,version:"0.1.4",pingResult:e}})),this.ping=()=>i(this,void 0,void 0,(function*(){try{let e=yield(0,o.default)(`${this.base}/ping`);return e=yield e.json(),e}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this}getApiKey(){return this.apikey}}},{unfetch:1}],4:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function u(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("unfetch"));n.default=class{constructor(e,t){return this.create=(e,t,n,r,s)=>i(this,void 0,void 0,(function*(){try{let i=yield(0,o.default)(`${this.base}/comments?apikey=${this.apikey}`,{method:"POST",body:JSON.stringify({token:t,signerAddress:e,comment:n,threadId:r,url:encodeURIComponent(s)}),headers:{"Content-Type":"application/json"}});return i=yield i.json(),i}catch(e){return console.error(e),{error:e}}})),this.delete=(e,t,n)=>i(this,void 0,void 0,(function*(){try{let i=yield(0,o.default)(`${this.base}/comments?apikey=${this.apikey}`,{method:"DELETE",body:JSON.stringify({token:e,signerAddress:t,commentId:n}),headers:{"Content-Type":"application/json"}});return i=yield i.json(),i}catch(e){return console.error(e),{error:e}}})),this.query=e=>i(this,void 0,void 0,(function*(){const t=new URLSearchParams(e);t.append("apikey",this.apikey);try{let e=yield(0,o.default)(`${this.base}/comments?${t.toString()}`,{method:"GET"});return e=yield e.json(),e}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this.base=t,this}}},{unfetch:1}],5:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{a(i.next(e))}catch(e){o(e)}}function u(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((i=i.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(e("unfetch"));n.default=class{constructor(e,t){return this.getTrustScore=e=>i(this,void 0,void 0,(function*(){try{let t=yield(0,o.default)(`${this.base}/identity?address=${e}&apikey=${this.apikey}`);return t=yield t.json(),t}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this.base=t,this}}},{unfetch:1}],6:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});const r=i(e("./comments")),o=i(e("./auth")),s=i(e("./base")),u=i(e("./threads")),a=i(e("./identity"));class c extends s.default{constructor(e){return super(e),this.comments=new r.default(e,this.base),this.auth=new o.default(e,this.base),this.threads=new u.default(e,this.base),this.identity=new a.default(e,this.base),this}}n.default=c},{"./auth":2,"./base":3,"./comments":4,"./identity":5,"./threads":7}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=class{constructor(e,t){return this.apikey=e,this.base=t,this}}},{}]},{},[6])(6)}));