!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Convo=e()}}((function(){return function e(t,n,r){function i(s,u){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};t[s][0].call(h.exports,(function(e){return i(t[s][1][e]||e)}),h,h.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){t.exports=function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],u={},a=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),u[t]=u[t]?u[t]+","+n:n})),n(a())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}},{}],2:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./utils");n.default=class{constructor(e,t){return this.validate=(e,t)=>r(this,void 0,void 0,(function*(){try{return yield(0,i.fetcher)("POST",`${this.base}/validateAuth?apikey=${this.apikey}`,{signerAddress:e,token:t})}catch(e){return console.error(e),{error:e}}})),this.authenticate=(e,t,n,o,s)=>r(this,void 0,void 0,(function*(){try{if("ethereum"===o)return yield(0,i.fetcher)("POST",`${this.base}/auth?apikey=${this.apikey}`,{signerAddress:e,signature:t,timestamp:n,chain:o});if("near"===o)return yield(0,i.fetcher)("POST",`${this.base}/auth?apikey=${this.apikey}`,{signerAddress:e,signature:t,accountId:s,timestamp:n,chain:o});{const e="Invalid Chain Name";return console.error(e),{error:e}}}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this.base=t,this}getSignatureData(e,t){return`I allow this site to access my data on The Convo Space using the account ${e}. Timestamp:${t}`}}},{"./utils":8}],3:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./utils");n.default=class{constructor(e){return this.base="https://theconvo.space/api",this.logConfig=()=>r(this,void 0,void 0,(function*(){const e=yield this.ping();return{base:this.base,apikey:this.apikey,version:"0.1.5",pingResult:e}})),this.ping=()=>r(this,void 0,void 0,(function*(){try{return yield(0,i.fetcher)("GET",`${this.base}/ping`,{})}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this}getApiKey(){return this.apikey}}},{"./utils":8}],4:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./utils");n.default=class{constructor(e,t){return this.create=(e,t,n,o,s)=>r(this,void 0,void 0,(function*(){try{return yield(0,i.fetcher)("POST",`${this.base}/comments?apikey=${this.apikey}`,{token:t,signerAddress:e,comment:n,threadId:o,url:encodeURIComponent(s)})}catch(e){return console.error(e),{error:e}}})),this.delete=(e,t,n)=>r(this,void 0,void 0,(function*(){try{return yield(0,i.fetcher)("DELETE",`${this.base}/comments?apikey=${this.apikey}`,{token:e,signerAddress:t,commentId:n})}catch(e){return console.error(e),{error:e}}})),this.query=e=>r(this,void 0,void 0,(function*(){const t=new URLSearchParams(e);t.append("apikey",this.apikey);try{return yield(0,i.fetcher)("GET",`${this.base}/comments?${t.toString()}`,{})}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this.base=t,this}}},{"./utils":8}],5:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./utils");n.default=class{constructor(e,t){return this.getTrustScore=e=>r(this,void 0,void 0,(function*(){try{return yield(0,i.fetcher)("GET",`${this.base}/identity?address=${e}&apikey=${this.apikey}`,{})}catch(e){return console.error(e),{error:e}}})),this.apikey=e,this.base=t,this}}},{"./utils":8}],6:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Convo=void 0;const i=r(e("./comments")),o=r(e("./auth")),s=r(e("./base")),u=r(e("./threads")),a=r(e("./identity"));class c extends s.default{constructor(e){return super(e),this.comments=new i.default(e,this.base),this.auth=new o.default(e,this.base),this.threads=new u.default(e,this.base),this.identity=new a.default(e,this.base),this}}n.Convo=c},{"./auth":2,"./base":3,"./comments":4,"./identity":5,"./threads":7}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=class{constructor(e,t){return this.apikey=e,this.base=t,this}}},{}],8:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.fetcher=void 0;const o=i(e("unfetch"));n.fetcher=function(e,t,n){return r(this,void 0,void 0,(function*(){if("GET"===e){let e=yield(0,o.default)(t);return e=yield e.json(),e}if("POST"===e||"UPDATE"===e||"DELETE"===e){let r=yield(0,o.default)(t,{method:e,body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});return r=yield r.json(),r}}))}},{unfetch:1}]},{},[6])(6)}));